<Window x:Class="RdpIo.UI.Windows.OcrProcessingWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="rdp-io - Обработка OCR"
        Width="400" Height="180"
        WindowStyle="None"
        ResizeMode="NoResize"
        Background="Transparent"
        AllowsTransparency="True"
        Topmost="True"
        WindowStartupLocation="CenterScreen"
        ShowInTaskbar="False">

    <Border Background="#34495E"
            BorderBrush="#27AE60"
            BorderThickness="3"
            CornerRadius="10">
        <Grid Margin="30,20">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- Заголовок -->
            <StackPanel Grid.Row="0"
                        Orientation="Horizontal"
                        HorizontalAlignment="Center"
                        Margin="0,0,0,15">
                <TextBlock Text="Обработка OCR"
                           FontSize="18"
                           FontWeight="Bold"
                           Foreground="White"/>
                <TextBlock Text=" - "
                           FontSize="18"
                           Foreground="#BDC3C7"
                           Margin="5,0"/>
                <TextBlock Text="{Binding CurrentStage}"
                           FontSize="18"
                           FontWeight="Bold"
                           Foreground="#27AE60"/>
            </StackPanel>

            <!-- Индикатор загрузки (анимированный круг) -->
            <Grid Grid.Row="1"
                  Height="40"
                  Margin="0,0,0,15">
                <Ellipse Width="40" Height="40"
                         Stroke="#27AE60"
                         StrokeThickness="4"
                         RenderTransformOrigin="0.5,0.5">
                    <Ellipse.RenderTransform>
                        <RotateTransform x:Name="SpinnerRotation"/>
                    </Ellipse.RenderTransform>
                    <Ellipse.Triggers>
                        <EventTrigger RoutedEvent="Loaded">
                            <BeginStoryboard>
                                <Storyboard>
                                    <DoubleAnimation Storyboard.TargetName="SpinnerRotation"
                                                     Storyboard.TargetProperty="Angle"
                                                     From="0" To="360"
                                                     Duration="0:0:1.5"
                                                     RepeatBehavior="Forever"/>
                                </Storyboard>
                            </BeginStoryboard>
                        </EventTrigger>
                    </Ellipse.Triggers>
                    <Ellipse.StrokeDashArray>
                        <DoubleCollection>5 3</DoubleCollection>
                    </Ellipse.StrokeDashArray>
                </Ellipse>
            </Grid>

            <!-- Статус -->
            <TextBlock Grid.Row="2"
                       Text="{Binding StatusMessage}"
                       FontSize="14"
                       Foreground="#BDC3C7"
                       HorizontalAlignment="Center"
                       TextAlignment="Center"
                       TextWrapping="Wrap"/>
        </Grid>
    </Border>
</Window>
